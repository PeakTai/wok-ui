import{M as h,g as n}from"./index.d6887742.js";import{F as u}from"./form-input.631351f1.js";class i extends h{constructor(e){const t=document.createElement("input");if(t.type="checkbox",t.classList.add("wok-ui-checkbox"),super(t),t.value=e.value,this.value=e.value,this.__input=t,e.disabled&&(t.disabled=e.disabled),this.setStatus(e.status||"unchecked"),e.onChange){const{onChange:a}=e;this.el.addEventListener("change",d=>{d.stopPropagation(),a(this.getStatus())})}}setStatus(e){if(e!==this.getStatus())switch(e){case"checked":this.__input.checked=!0,this.__input.indeterminate=!1;break;case"unchecked":this.__input.checked=!1,this.__input.indeterminate=!1;break;case"indeterminate":this.__input.checked=!1,this.__input.indeterminate=!0;break}}getStatus(){return this.__input.checked?"checked":this.__input.indeterminate?"indeterminate":"unchecked"}isChecked(){return this.__input.checked}setDisabled(e){this.__input.disabled=e}}class r extends u{constructor(e){super(document.createElement("label")),this.opts=e,this.__value=!1,this.__disabled=!1,e.value&&(this.__value=e.value),this.addChild({classNames:["wok-ui-bool-checkbox"],children:[new i({value:"",status:this.__value?"checked":"unchecked",disabled:this.__disabled,onChange:t=>{this.__value=t==="checked",this.opts.onChange&&this.opts.onChange(this.__value),this.validate()}}),e.label]})}__validate(){return this.opts.required&&!this.__value?{valid:!1,msg:typeof this.opts.required=="string"?this.opts.required:n().buildMsg("form-err-must-check")}:{valid:!0}}isChecked(){return this.__value}validate(){const e=this.__validate();return e.valid?this.hideInvalidFeedback():this.showInvalidFeedback(e.msg),e.valid}setDisabled(e){this.__disabled!==e&&(this.__disabled=e,this.find(t=>t instanceof i).map(t=>t).forEach(t=>t.setDisabled(this.__disabled)))}}export{r as B,i as C};
