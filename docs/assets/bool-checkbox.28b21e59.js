var o=(s,a,e)=>{if(!a.has(s))throw TypeError("Cannot "+e)};var t=(s,a,e)=>(o(s,a,"read from private field"),e?e.call(s):a.get(s)),r=(s,a,e)=>{if(a.has(s))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(s):a.set(s,e)},l=(s,a,e,i)=>(o(s,a,"write to private field"),i?i.call(s,e):a.set(s,e),e);var f=(s,a,e)=>(o(s,a,"access private method"),e);import{M as C,b as x,g as p}from"./index.0f65c826.js";import{F as w,I as k}from"./invalid-feedback.11287e18.js";var h;class b extends C{constructor(e){const i=document.createElement("input");i.type="checkbox",i.classList.add("wok-ui-checkbox");super(i);r(this,h,void 0);if(i.value=e.value,this.value=e.value,l(this,h,i),e.disabled&&(i.disabled=e.disabled),this.setStatus(e.status||"unchecked"),e.onChange){const{onChange:g}=e;this.el.addEventListener("change",v=>{v.stopPropagation(),g(this.getStatus())})}}setStatus(e){if(e!==this.getStatus())switch(e){case"checked":t(this,h).checked=!0,t(this,h).indeterminate=!1;break;case"unchecked":t(this,h).checked=!1,t(this,h).indeterminate=!1;break;case"indeterminate":t(this,h).checked=!1,t(this,h).indeterminate=!0;break}}getStatus(){return t(this,h).checked?"checked":t(this,h).indeterminate?"indeterminate":"unchecked"}isChecked(){return t(this,h).checked}setDisabled(e){t(this,h).disabled=e}}h=new WeakMap;var d,c,n,u,m;class q extends w{constructor(e){super(document.createElement("label"));r(this,u);r(this,d,!1);r(this,c,!1);r(this,n,void 0);l(this,n,e),e.value&&l(this,d,e.value),this.addChild({classNames:["wok-ui-bool-checkbox"],children:[new b({value:"",status:t(this,d)?"checked":"unchecked",disabled:t(this,c),onChange:i=>{l(this,d,i==="checked"),t(this,n).onChange&&t(this,n).onChange(t(this,d)),this.validate()}}),new x(e.label)]})}validate(){const e=f(this,u,m).call(this);return this.getChildren().filter(i=>i instanceof k).forEach(i=>i.destroy()),e.valid||this.addChild(new k(e.msg)),e.valid}setDisabled(e){t(this,c)!==e&&(l(this,c,e),this.find(i=>i instanceof b).map(i=>i).forEach(i=>i.setDisabled(t(this,c))))}}d=new WeakMap,c=new WeakMap,n=new WeakMap,u=new WeakSet,m=function(){return t(this,n).required&&!t(this,d)?{valid:!1,msg:typeof t(this,n).required=="string"?t(this,n).required:p().buildMsg("form-err-must-check")}:{valid:!0}};export{q as B,b as C};
