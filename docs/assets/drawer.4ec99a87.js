import{D as r,k as d,s as h,c as o,l as s,A as i,T as c,L as m,S as E,H as p,B as u}from"./index.936704ca.js";class C extends r{constructor(e){super("wok-ui-drawer"),this.opts=e,this.el.addEventListener("click",()=>{const t=this.getChildren();t.length&&t[t.length-1].destroy()})}handleContentDestroy(){this.getChildren().length===0&&this.destroy()}addContent(e){e.onDestroy(this.handleContentDestroy.bind(this)),this.addChild(e)}destroy(){super.destroy(),this.opts.onDestroy()}}class D extends r{constructor(e){super("wok-ui-drawer-content",d),this.opts=e,this.callbacked=!1,this.leaveAnimating=!1,this.el.addEventListener("click",t=>t.stopPropagation()),e.placement==="left"?this.el.classList.add("left"):e.placement==="top"?this.el.classList.add("top"):e.placement==="bottom"?this.el.classList.add("bottom"):this.el.classList.add("right"),this.enter().catch(h),e.title&&this.addChild(o({classNames:["header"],children:[o({classNames:["title"],innerText:e.title}),o({classNames:["close"],innerHTML:"&times;",onClick:()=>this.destroy()})]})),this.addChild(o({classNames:["body"],children:[e.body]}))}enter(){return this.opts.placement==="left"?s({el:this.el,animation:i.SLIDE_LEFT}):this.opts.placement==="top"?s({el:this.el,animation:i.SLIDE_TOP}):this.opts.placement==="bottom"?s({el:this.el,animation:i.SLIDE_BOTTOM}):s({el:this.el,animation:i.SLIDE_RIGHT})}async leave(){this.leaveAnimating=!0;try{this.opts.placement==="left"?await s({el:this.el,animation:i.SLIDE_LEFT,reverse:!0}):this.opts.placement==="top"?await s({el:this.el,animation:i.SLIDE_TOP,reverse:!0}):this.opts.placement==="bottom"?await s({el:this.el,animation:i.SLIDE_BOTTOM,reverse:!0}):await s({el:this.el,animation:i.SLIDE_RIGHT,reverse:!0})}finally{this.leaveAnimating=!1}}onDestroy(e){this.destroyListener=e}destroy(){this.leaveAnimating||this.leave().then(()=>{super.destroy(),this.destroyListener&&this.destroyListener(),this.opts.onClose&&!this.callbacked&&(this.opts.onClose(),this.callbacked=!0)})}}let n;function a(l){n||(n=new C({onDestroy:()=>n=void 0}),n.mount(document.body));const e=new D(l);return n.addContent(e),{close:()=>e.destroy()}}class F extends r{constructor(){super(),this.addChild(new m("\u62BD\u5C49"),new E(20),new p({gap:16,children:[new u({text:"\u53F3\u4FA7\u5F39\u51FA\u62BD\u5C49",onClick(e){a({title:"\u53F3\u4FA7\u5F39\u51FA\u7684\u62BD\u5C49",placement:"right",body:"\u53F3\u4FA7\u5F39\u51FA\u7684\u62BD\u5C49"})}}),new u({text:"\u5E95\u90E8\u5F39\u51FA\u62BD\u5C49",onClick(e){a({title:"\u5E95\u90E8\u5F39\u51FA\u7684\u62BD\u5C49",placement:"bottom",body:"\u5E95\u90E8\u5F39\u51FA\u7684\u62BD\u5C49"})}}),new u({text:"\u5F00\u542F\u591A\u4E2A\u62BD\u5C49",onClick(e){a({title:"\u8FD9\u662F\u7B2C\u4E00\u4E2A",placement:"right",body:new u({text:"\u70B9\u51FB\u4ECE\u5DE6\u8FB9\u518D\u5F00\u4E00\u4E2A",onClick(t){a({title:"\u7B2C\u4E8C\u4E2A\u62BD\u5C49",placement:"left",body:"\u70B9\u51FB\u80CC\u666F\u4F1A\u6309\u7167\u5F00\u542F\u7684\u987A\u5E8F\u5012\u5E8F\u9010\u4E2A\u5173\u95ED\u62BD\u5C49"})}})})}}),new u({text:"\u81EA\u5B9A\u4E49\u5173\u95ED\u6309\u94AE",onClick(e){const t=a({title:"\u81EA\u5B9A\u4E49\u5173\u95ED\u6309\u94AE",placement:"right",body:new u({text:"\u70B9\u51FB\u5173\u95ED\u62BD\u5C49",type:"warning",onClick(A){t.close()}})})}})]}))}}function f(){return new c(new F)}export{f as drawerTest};
