import{M as h,c,b as l,i as r}from"./index.936704ca.js";import{F as u,I as i}from"./invalid-feedback.86259d42.js";class s extends h{constructor(e){const t=document.createElement("input");if(t.type="checkbox",t.classList.add("wok-ui-checkbox"),super(t),t.value=e.value,this.value=e.value,this.input=t,e.disabled&&(t.disabled=e.disabled),this.setStatus(e.status||"unchecked"),e.onChange){const{onChange:n}=e;this.el.addEventListener("change",d=>{d.stopPropagation(),n(this.getStatus())})}}setStatus(e){if(e!==this.getStatus())switch(e){case"checked":this.input.checked=!0,this.input.indeterminate=!1;break;case"unchecked":this.input.checked=!1,this.input.indeterminate=!1;break;case"indeterminate":this.input.checked=!1,this.input.indeterminate=!0;break}}getStatus(){return this.input.checked?"checked":this.input.indeterminate?"indeterminate":"unchecked"}isChecked(){return this.input.checked}setDisabled(e){this.input.disabled=e}}class k extends u{constructor(e){super(document.createElement("label")),this.opts=e,this.value=!1,this.disabled=!1,e.value&&(this.value=e.value),this.addChild(c({classNames:["wok-ui-bool-checkbox"],children:[new s({value:"",status:this.value?"checked":"unchecked",disabled:this.disabled,onChange:t=>{this.value=t==="checked",this.opts.onChange&&this.opts.onChange(this.value),this.validate()}}),new l(e.label)]}))}_validate(){return this.opts.required&&!this.value?{valid:!1,msg:typeof this.opts.required=="string"?this.opts.required:r("form-err-must-check")}:{valid:!0}}validate(){const e=this._validate();return this.getChildren().filter(t=>t instanceof i).forEach(t=>t.destroy()),e.valid||this.addChild(new i(e.msg)),e.valid}setDisabled(e){this.disabled!==e&&(this.disabled=e,this.find(t=>t instanceof s).map(t=>t).forEach(t=>t.setDisabled(this.disabled)))}}export{k as B,s as C};
